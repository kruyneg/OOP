# Лабораторная работа 6
## Юрков Евгений, М8О-112Б-22
## Вариант 4

Модифицируйте вашу лабораторную работу №6 следующим образом:

- Должно быть реализовано три потока:
  - Поток, который осуществляет передвижение NPC на определенное расстояние (см. таблицу), а также определяет, что два NPC находятся на расстоянии убийства (см. таблицу). Если два NPC вступили в «бой», то он создает задачу для потока,осуществляющего бои.
  - Поток, который осуществляет бои. Если один NPC может убивать другой, то каждый NPC «кидает 6-гранный кубик» определяя силу атаки и силу защиты (соответственно). Если сила атаки больше, чем сила защиты – то происходит убийство.
  - Мертвые NPC не передвигаются (у нас тут без некромантов).
  - Живые NPC не могут покинуть карту (размер задается через константы, например 100 x 100)
  - Основной поток раз в секунду печатает карту. Мертвые NPC на карте не отображаются.
- Осуществить контроль доступа к разделяемым ресурсов с помощью `std::shared_lock` и `std::lock_guard`
- Осуществить контроль к потоку вывода `std::cout` через `std::lock_guard`
- Потоки могут запускаться как `std::thread` с использованием лямбда функций или функторов (классов с перегруженным оператором `operator()`)
- Вначале игры должно создаваться 50 NPC в случайных локациях.
- Игра должна останавливаться через 30 секунд и выводить на экран список выживших


**Вариант 24:**
| Объекты                | Правило совместимости |
|:----------------------:|:---------------------:|
| Белка, Эльф, Разбойник | Эльфы убивают разбойников <br/> Разбойники убивают белок <br/> Белки решили убивать эльфов (способ неизвестен)|

**Таблица убиваемости:**
| Кто нагоняет           | Расстояние хода | Расстояние убийства |
|:----------------------:|:---------------:|:-------------------:|
| Белка                  | 5               | 5                   |
| Разбойник              | 10              | 10                  |
| Эльф                   | 10              | 50                  |

[main.cpp](main.cpp) - основной файл программы.\
[NPC.hpp](NPC.hpp) - заголовочный файл `NPC`.\
[NPC.cpp](NPC.cpp) - реализация `NPC`.\
[squirrel.hpp](squirrel.hpp) - заголовочный файл `Squirrel`.\
[squirrel.cpp](squirrel.cpp) - реализация `Squirrel`.\
[thug.hpp](thug.hpp) - заголовочный файл `Thug`.\
[thug.cpp](thug.cpp) - реализация `Thug`.\
[elf.hpp](elf.hpp) - заголовочный файл `Elf`.\
[elf.cpp](elf.cpp) - реализация `Elf`.\
[observer.hpp](observer.hpp) - заголовочный файл содержаций `TextObserver` и `FileObserver`.\
[observer.cpp](observer.cpp) - реализация `TextObserver` и `FileObserver`.\
[factory.hpp](factory.hpp) - заголовочный файл фабрик.\
[factory.cpp](factory.cpp) - реализация фабрик.
